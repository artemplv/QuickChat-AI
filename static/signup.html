<!DOCTYPE html>
<html>
<head>
    <title>Messenger — Sign Up</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="assets/css/style.css" rel="stylesheet">
</head>

<body>
  <div class="sign-view">
    <form id="signUpForm" class="form sign-form">
      <h1 class="sign-form__heading sign-up-form__heading">Регистрация</h1>

      <div class="form-fields-wrapper sign-up-form-fields-wrapper">
        <div class="form-field">
          <div class="form-field__control">
            <input id="email" name="email" type="email" class="form-field__input" placeholder=" " required />
            <label for="email" class="form-field__label">Почта</label>
            <div class="form-field__bar"></div>
          </div>
        </div>

        <div class="form-field">
          <div class="form-field__control">
            <input id="login" name="login" type="text" class="form-field__input" placeholder=" " required />
            <label for="login" class="form-field__label">Логин</label>
            <div class="form-field__bar"></div>
          </div>
        </div>

        <div class="form-field">
          <div class="form-field__control">
            <input id="first_name" name="first_name" type="text" class="form-field__input" placeholder=" " required />
            <label for="first_name" class="form-field__label">Имя</label>
            <div class="form-field__bar"></div>
          </div>
        </div>

        <div class="form-field">
          <div class="form-field__control">
            <input id="second_name" name="second_name" type="text" class="form-field__input" placeholder=" " required />
            <label for="second_name" class="form-field__label">Фамилия</label>
            <div class="form-field__bar"></div>
          </div>
        </div>

        <div class="form-field">
          <div class="form-field__control">
            <input id="phone" name="phone" type="tel" class="form-field__input" placeholder=" " required />
            <label for="phone" class="form-field__label">Телефон</label>
            <div class="form-field__bar"></div>
          </div>
        </div>

        <div class="form-field">
          <div class="form-field__control">
            <input id="password" name="password" type="password" class="form-field__input" placeholder=" " required />
            <label for="password" class="form-field__label">Пароль</label>
            <div class="form-field__bar"></div>
          </div>
        </div>

        <div class="form-field">
          <div class="form-field__control">
            <input id="password_repeat" name="password_repeat" type="password" class="form-field__input" placeholder=" " required />
            <label for="password_repeat" class="form-field__label">Пароль (ещё раз)</label>
            <div class="form-field__bar"></div>
          </div>
        </div>
      </div>

      <button type="submit" class="form__main-button">
        Зарегистрироваться
      </button>

      <button type="button" class="form__additional-button">
        <a class="button-link" href="./login.html">Войти</a>
      </button>
    </form>
  </div>

  <script>
    signUpForm.onsubmit = (e) => {
      e.preventDefault();

      const passwordInput = document.getElementById("password");
      const passwordRepeatInput = document.getElementById("password_repeat");

      if (passwordRepeatInput.value !== passwordInput.value) {
        return false;
      }

      // const passwordRepeatValidityChecks = [
      //   {
      //     isInvalid: function() {
      //       return passwordRepeatInput.value !== passwordInput.value;
      //     },
      //     invalidityMessage: "Пароли не совпадают",
      //   },
      // ];

      // passwordRepeatInput.CustomValidation = new CustomValidation();
      // passwordRepeatInput.setCustomValidity(passwordRepeatValidityChecks);

      const formData = new FormData(signUpForm);
      const formFields = {};

      for (let [key, value] of formData) {
        formFields[key] = value;
      }

      console.log(formFields);
    };
  </script>
</body>

</html>
